---
layout: post
title: 'Java Reverse Engineering Tutorial#2: Cracking simple password check using
  decompiler'
date: '2012-07-23T02:42:00.001+05:30'
author: Shubham Aher
tags:
- java
- cracking
- reverse engineering
- tutorial
modified_time: '2012-08-09T15:10:02.427+05:30'
thumbnail: http://2.bp.blogspot.com/-lCkhcmtSppg/UAxiEShGF8I/AAAAAAAAAAk/2jpR4ULM7hc/s72-c/sshot-2.png
blogger_id: tag:blogger.com,1999:blog-2487333153967243269.post-1985577433329595007
blogger_orig_url: http://shubhamaher.blogspot.com/2012/07/java-reverse-engineering-tutorial2.html
---

<div dir="ltr" style="text-align: left;" trbidi="on"><div dir="ltr" style="text-align: left;" trbidi="on"><h4 style="text-align: left;">   <u>  Aim:</u></h4><div>To learn how to use the decompiler in reverse engineering.</div><div><br /></div><h4 style="text-align: left;">   <u>  Input:</u></h4><div>You are given a simple <a href="http://en.wikipedia.org/wiki/Crackme" target="_blank">crackme</a>&nbsp;(Java .class file)</div><div><br /></div><h4 style="text-align: left;">   <u>  Tools:</u></h4><div style="text-align: left;"><ul style="text-align: left;"><li><a href="http://java.decompiler.free.fr/?q=jdgui" target="_blank">jd-gui Java Decompiler</a></li></ul><br /><ul style="text-align: left;"></ul></div><h4 style="text-align: left;">   <u>  Tutorial:</u></h4><div><ol style="text-align: left;"><li>Lets first run the given crackme file (<a href="http://www.mediafire.com/download.php?hz72egbh9jfr0r2" target="_blank">SimplePasswordCheck.class</a>) and see what happens:</li></ol><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-lCkhcmtSppg/UAxiEShGF8I/AAAAAAAAAAk/2jpR4ULM7hc/s1600/sshot-2.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-lCkhcmtSppg/UAxiEShGF8I/AAAAAAAAAAk/2jpR4ULM7hc/s1600/sshot-2.png" /></a></div></div><div><div><br /></div></div><div>2. If we type "john" as password, it results in "ACESS DENIED" that means the password "john" is wrong.</div><div><br /></div><div>3. Open the class file (<span style="background-color: white;"><a href="http://www.mediafire.com/download.php?hz72egbh9jfr0r2" target="_blank">SimplePasswordCheck.class</a>) in jd-gui decompiler. You will see the following decompiled code:</span></div><div><span style="background-color: white;"><br /></span></div></div><pre class="brush: java">import java.io.DataInputStream;<br />import java.io.PrintStream;<br /><br />class SimplePasswordCheck<br />{<br />  public static void main(String[] paramArrayOfString)<br />    throws Exception<br />  {<br />    DataInputStream localDataInputStream = new DataInputStream(System.in);<br />    String str1 = "shubham";<br /><br />    System.out.println("\nPlease enter your password: ");<br />    String str2 = localDataInputStream.readLine();<br /><br />    if (str2.equals(str1))<br />    {<br />      System.out.println("\nACCESS GRANTED :-) ");<br />    }<br />    else<br />    {<br />      System.out.println("\nACCESS DENIED :-( ");<br />    }<br />  }<br />}<br /></pre><br />4. The string "shubham" is assigned to String variable 'str1' and the input password is taken in String variable 'str2'.<br /><br />&nbsp;5. There is a simple if-else check to compare if 'str1' and 'str2' are equal that means the string "shubham" is a hardcoded password !! <br /><br />6. So we have fished out the hardcoded password from the decompiled code of the class file. Lets try this fished password to check if it works:<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-IjsEVN35XA0/UAxn7LW80YI/AAAAAAAAAAw/6ruYDafTgNs/s1600/sshot-3.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/-IjsEVN35XA0/UAxn7LW80YI/AAAAAAAAAAw/6ruYDafTgNs/s1600/sshot-3.png" /></a></div><br /><h4 style="text-align: left;">   <u>Conclusion:</u></h4><div>This tutorial covered how to <i>fish out</i> the password from a class file by using a <b>decompiler</b>. However such technique of using <b>only decompilation</b> is <b>not feasible</b> in complex(<a href="http://en.wikipedia.org/wiki/Obfuscated_code" target="_blank">obfuscated</a>) programs. In such a case you may need to use other techniques like <b>patching</b> the actual and appropriate <b>bytecode</b> in the class file by studying the check/validation process at a more <b>granular level</b>.</div><div><br /></div><div>The purpose of this tutorial was to make you understand the use of decompiler in reverse engineering, understand the scope of finding hardcoded password.</div><div><br /></div><div>However, in the <b style="font-style: italic; text-decoration: underline;"><a href="http://www.shubhamaher.blogspot.in/2012/07/java-reverse-engineering-tutorial3.html" target="_blank">'Java Reverse Engineering Tutorial#3'</a></b>&nbsp;, we will reverse engineer this very same crackme with a different approach - Java bytecode patching. This will clear the significance of using both the techniques.</div><div><br /></div><h4 style="text-align: left;">   <u>Notes:</u></h4><div>In case you are unable to run the given .class file crackme, you can compile for yourself the <a href="http://www.mediafire.com/download.php?zvuzf15yzc3a0dv" target="_blank">sourcefile(SimplePasswordCheck.java)</a> for this tutorial.</div><div><br /></div><h4 style="text-align: left;">   <u>Downloads:</u></h4><div><ul style="text-align: left;"><li><a href="http://java.decompiler.free.fr/?q=jdgui" target="_blank">JD-GUI Java Decompiler</a></li><li><a href="http://www.mediafire.com/download.php?hz72egbh9jfr0r2" target="_blank">SimplePasswordCheck.class</a></li><li><a href="http://www.mediafire.com/download.php?zvuzf15yzc3a0dv" target="_blank">SimplePasswordCheck.java</a></li></ul></div></div>